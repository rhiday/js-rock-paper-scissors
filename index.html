<!DOCTYPE html>
<html>
    <head>
        <title>RPS</title>
    </head>

    <body>
        <script>

            let playerScore = 0;
            let computerScore = 0;

            game();

            /* Selects rock, paper or scissors randomly */
            
            function computerPlay() {
                let options = ['Rock', 'Paper', 'Scissors'];
                return (options[Math.floor(Math.random()*3)]);
            }

            /* Plays one round */

            function playRound(playerSelection, computerSelection) {

                /* Win condition */

                if ((playerSelection == 'Rock' && computerSelection == 'Scissors') ||
                    (playerSelection == 'Paper' && computerSelection == 'Rock') ||
                    (playerSelection == 'Scissors' && computerSelection == 'Paper')) {
                        console.log("You win! " + playerSelection + " beats " + computerSelection);

                        playerScore++;
                    }

                /* Lose condition */

                else if ((playerSelection == 'Rock' && computerSelection == 'Paper') ||
                    (playerSelection == 'Paper' && computerSelection == 'Scissors') ||
                    (playerSelection == 'Scissors' && computerSelection == 'Rock')) {
                        console.log("You lose! " + computerSelection + " beats " + playerSelection);
                        
                        computerScore++;
                    }

                /* Tie condition */

                else if (playerSelection == computerSelection) {
                    console.log("Tie! You both chose " + playerSelection);
                }

            }

            /* Plays for five rounds */

            function game() {

                for (let i = 1; i <= 5 ; i++) {

                    let playerSelection = prompt("Round " + i + "! Type Rock, Paper or Scissors")
                    let computerSelection = computerPlay();

                    if(playerSelection !== 'Rock' || 'Paper' || 'Scissors') {
                        console.log("Please choose the correct option");
                    }

                    playRound(playerSelection, computerSelection);
                }

                if(playerScore > 2) {
                    alert("You won " + playerScore + " points! So you're the winner!");
                }

                else if(computerScore > 2) {
                        alert("Computer won " + computerScore + " points! So computer is the winner!");
                }

                else if(playerScore == playerScore) {
                    alert("Game tied.");
                }
            }

        </script>
    </body>
</html>